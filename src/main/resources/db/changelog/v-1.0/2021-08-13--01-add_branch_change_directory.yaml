databaseChangeLog:
- changeSet:
    id: 1-9
    author: mbulenkov
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            name: id
            type: BIGINT
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: pk_branch
        - column:
            name: name
            type: VARCHAR(100)
        - column:
            name: created
            type: DATETIME
        - column:
            name: modified
            type: DATETIME
        tableName: branch

- changeSet:
    id: 1-10
    author: mbulenkov
    changes:
    - createTable:
        columns:
        - column:
            name: branch_id
            type: BIGINT
            constraints:
              nullable: false
        tableName: branch_directories

- changeSet:
    id: 1-11
    author: mbulenkov
    changes:
    - addColumn:
        columns:
        - column:
            name: created
            type: DATETIME
        - column:
            name: depth_level
            type: INT
        - column:
            name: modified
            type: DATETIME
        tableName: directory

- changeSet:
    id: 1-12
    author: mbulenkov
    changes:
    - addUniqueConstraint:
        columnNames: name
        constraintName: uc_branch_name
        tableName: branch

- changeSet:
    id: 1-13
    author: mbulenkov
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: branch_id
        baseTableName: branch_directories
        constraintName: fk_branch_directories_on_branch
        referencedColumnNames: id
        referencedTableName: branch

- changeSet:
    id: 1-14
    author: mbulenkov
    changes:
    - dropForeignKeyConstraint:
        baseTableName: dependent_directory
        constraintName: fk_dependent_directory_on_directory

- changeSet:
    id: 1-15
    author: mbulenkov
    changes:
    - dropTable:
        cascadeConstraints: true
        tableName: dependent_directory

- changeSet:
    id: 1-16
    author: mbulenkov
    changes:
    - dropUniqueConstraint:
        constraintName: uc_directory_name
        tableName: directory

- changeSet:
    id: 1-18
    author: mbulenkov
    changes:
    - dropNotNullConstraint:
        columnName: comment
        tableName: content
